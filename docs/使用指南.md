# ğŸ“– å“ç‰Œåˆ†æç³»ç»Ÿ - ä½¿ç”¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨æœåŠ¡

**æ–¹æ³•1ï¼šä½¿ç”¨æ‰¹å¤„ç†æ–‡ä»¶ï¼ˆæ¨èï¼‰**
- åŒå‡»è¿è¡Œï¼š`å¯åŠ¨å®Œæ•´ç³»ç»Ÿ.bat`

**æ–¹æ³•2ï¼šæ‰‹åŠ¨å¯åŠ¨**
- å¯åŠ¨Celery Workerï¼šåŒå‡» `å¯åŠ¨Celery.bat`
- å¯åŠ¨FastAPIåº”ç”¨ï¼šåŒå‡» `å¯åŠ¨FastAPI.bat`

### 2. è®¿é—®APIæ–‡æ¡£

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š**http://localhost:8000/docs**

---

## ğŸ“‹ åŠŸèƒ½ä½¿ç”¨

### å“ç‰Œç®¡ç†

#### åˆ›å»ºå“ç‰Œ
```
POST /api/v1/brands
{
  "name": "å“ç‰Œåç§°",
  "description": "å“ç‰Œæè¿°",
  "keywords": ["å…³é”®è¯1", "å…³é”®è¯2"],
  "platforms": ["xhs", "douyin", "weibo", "zhihu"]
}
```

#### æŸ¥çœ‹å“ç‰Œåˆ—è¡¨
```
GET /api/v1/brands?page=1&page_size=10
```

#### æŸ¥çœ‹å“ç‰Œè¯¦æƒ…
```
GET /api/v1/brands/{brand_id}
```

---

### æ•°æ®é‡‡é›†

#### å¯åŠ¨çˆ¬è™«ä»»åŠ¡
```
POST /api/v1/brands/{brand_id}/crawl
{
  "platforms": ["xhs", "douyin", "weibo"],
  "keywords": ["å…³é”®è¯"],
  "max_items": 100,
  "include_comments": true
}
```

**æ”¯æŒçš„å¹³å°**:
- `xhs` - å°çº¢ä¹¦
- `douyin` - æŠ–éŸ³
- `weibo` - å¾®åš
- `zhihu` - çŸ¥ä¹
- `bilibili` - Bç«™
- `kuaishou` - å¿«æ‰‹

#### æŸ¥çœ‹çˆ¬è™«ä»»åŠ¡
```
GET /api/v1/crawl-tasks?brand_id=1&status=completed
```

---

### æ•°æ®æŸ¥çœ‹

#### æŸ¥çœ‹å“ç‰Œæ•°æ®
```
GET /api/v1/brands/{brand_id}/data?platform=xhs&page=1&page_size=20
```

#### æŸ¥çœ‹æ•°æ®ç»Ÿè®¡
```
GET /api/v1/brands/{brand_id}/data/stats
```

#### åˆ é™¤æ•°æ®
```
DELETE /api/v1/brands/{brand_id}/data?platform=xhs
```

---

### AIåˆ†æ

#### å¯åŠ¨åˆ†æä»»åŠ¡
```
POST /api/v1/brands/{brand_id}/analyze
{
  "analysis_type": "comprehensive",
  "include_sentiment": true,
  "include_keywords": true,
  "include_insights": true
}
```

#### æŸ¥çœ‹åˆ†æç»“æœ
```
GET /api/v1/brands/{brand_id}/analysis
```

---

## ğŸ“Š æ•°æ®å­˜å‚¨

### æ•°æ®ä½ç½®

- **MySQL**: ç»“æ„åŒ–æ•°æ®ï¼ˆå“ç‰Œã€ä»»åŠ¡ã€æŠ¥å‘Šï¼‰
- **MongoDB**: éç»“æ„åŒ–æ•°æ®ï¼ˆçˆ¬å–å†…å®¹ã€åˆ†æç»“æœï¼‰
  - æ•°æ®åº“ï¼š`brand_analysis`
  - é›†åˆï¼š`raw_data`ï¼ˆçˆ¬å–æ•°æ®ï¼‰ã€`analysis_results`ï¼ˆåˆ†æç»“æœï¼‰

### æŸ¥çœ‹æ•°æ®

**æ–¹æ³•1ï¼šä½¿ç”¨API**
- è®¿é—® http://localhost:8000/docs
- ä½¿ç”¨æ•°æ®æŸ¥çœ‹API

**æ–¹æ³•2ï¼šä½¿ç”¨è„šæœ¬**
```bash
python view_crawled_data.py 1
```

**æ–¹æ³•3ï¼šä½¿ç”¨MongoDBå®¢æˆ·ç«¯**
- è¿æ¥åˆ° `mongodb://localhost:27017`
- æŸ¥çœ‹ `brand_analysis.raw_data` é›†åˆ

---

## âš™ï¸ é…ç½®è¯´æ˜

### LLM APIé…ç½®ï¼ˆå¯é€‰ï¼‰

åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®ï¼š

```env
# OpenAIé…ç½®
OPENAI_API_KEY=your_key
OPENAI_MODEL=gpt-4

# æˆ–Claudeé…ç½®
ANTHROPIC_API_KEY=your_key
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
```

**æ³¨æ„**ï¼šå¦‚æœä¸é…ç½®LLM APIï¼ŒåŸºç¡€åˆ†æï¼ˆæƒ…æ„Ÿã€å…³é”®è¯ï¼‰ä»å¯ç”¨ï¼Œä½†æ·±åº¦æ´å¯ŸåŠŸèƒ½ä¸å¯ç”¨ã€‚

---

## ğŸ” å¸¸è§é—®é¢˜

### Q: ç¬¬äºŒæ¬¡çˆ¬å–ä¼šæŠ¥é”™å—ï¼Ÿ

**A**: ä¸ä¼šã€‚ç³»ç»Ÿå·²å®ç°è‡ªåŠ¨å»é‡ï¼Œç¬¬äºŒæ¬¡çˆ¬å–ä¼šæ›´æ–°æ•°æ®ï¼Œä¸ä¼šæŠ¥é”™ã€‚

### Q: æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ

**A**: æ•°æ®å­˜å‚¨åœ¨MongoDBçš„`raw_data`é›†åˆä¸­ã€‚å¯ä»¥é€šè¿‡APIæˆ–è„šæœ¬æŸ¥çœ‹ã€‚

### Q: å¦‚ä½•æŸ¥çœ‹çˆ¬å–çš„æ•°æ®ï¼Ÿ

**A**: æœ‰ä¸‰ç§æ–¹æ³•ï¼š
1. ä½¿ç”¨APIï¼š`GET /api/v1/brands/{brand_id}/data`
2. ä½¿ç”¨è„šæœ¬ï¼š`python view_crawled_data.py {brand_id}`
3. ä½¿ç”¨MongoDBå®¢æˆ·ç«¯ç›´æ¥æŸ¥çœ‹

---

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- **å¤šå¹³å°çˆ¬å–**: `å¤šå¹³å°çˆ¬å–ä½¿ç”¨è¯´æ˜.md`
- **æ•°æ®å­˜å‚¨**: `æ•°æ®å­˜å‚¨å’ŒæŸ¥çœ‹è¯´æ˜.md`
- **AIåˆ†æ**: `AIåˆ†æåŠŸèƒ½å®ç°æ€»ç»“.md`
- **æœåŠ¡å¯åŠ¨**: `æœåŠ¡å¯åŠ¨è¯´æ˜.md`
- **APIæµ‹è¯•**: `Swagger UIä½¿ç”¨æŒ‡å—.md`

---

**è¯¦ç»†ä½¿ç”¨è¯´æ˜è¯·å‚è€ƒç›¸å…³æ–‡æ¡£ï¼** ğŸ“–







